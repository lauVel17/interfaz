<div class="container" style="padding: 30px; justify-content: center">
  <div class="card">
    <div class="card-body">
      <div class="encabezado-atras">
        <button class="close-button" (click)="cerrarDialogo()">
          <i class="bi bi-box-arrow-in-left"></i>
        </button>
        <h6 class="card-title">Crear Proyecto</h6>
      </div>

      <form [formGroup]="proyectoForm" (ngSubmit)="onSubmit()" class="row g-3 needs-validation" novalidate>

        <!-- Nombre del proyecto -->
        <div class="col-md-6">
          <div class="form-floating">
            <input type="text" class="form-control" id="nombre" placeholder="Nombre del proyecto"
              formControlName="nombre" required
              [ngClass]="{
                'is-invalid': proyectoForm.get('nombre')?.invalid && proyectoForm.get('nombre')?.touched,
                'is-valid': proyectoForm.get('nombre')?.valid
              }" />
            <label for="nombre">Nombre del proyecto</label>
            <div *ngIf="proyectoForm.get('nombre')?.invalid && proyectoForm.get('nombre')?.touched"
              class="invalid-feedback">
              El nombre es obligatorio y debe tener menos de 100 caracteres.
            </div>
          </div>
        </div>

        <!-- Descripción -->
        <div class="col-md-6">
          <div class="form-floating">
            <textarea class="form-control" id="descripcion" placeholder="Descripción del proyecto"
              formControlName="descripcion" style="height: 100px"
              [ngClass]="{
                'is-invalid': proyectoForm.get('descripcion')?.invalid && proyectoForm.get('descripcion')?.touched,
                'is-valid': proyectoForm.get('descripcion')?.valid
              }"></textarea>
            <label for="descripcion">Descripción</label>
            <div *ngIf="proyectoForm.get('descripcion')?.invalid && proyectoForm.get('descripcion')?.touched"
              class="invalid-feedback">
              La descripción es obligatoria.
            </div>
          </div>
        </div>

        <!-- Ciudad -->
        <div class="col-md-4">
          <div class="form-floating mb-3">
            <select class="form-select" formControlName="ciudad" id="ciudad" aria-label="Ciudad"
              [ngClass]="{
                'is-invalid': proyectoForm.get('ciudad')?.invalid && proyectoForm.get('ciudad')?.touched,
                'is-valid': proyectoForm.get('ciudad')?.valid
              }" required>
              <option value="" disabled selected>Seleccione una ciudad</option>
              <option *ngFor="let ciudad of ciudades" [value]="ciudad.id">{{ ciudad.nombre }}</option>
            </select>
            <label for="ciudad">Ciudad</label>
            <div *ngIf="proyectoForm.get('ciudad')?.invalid && proyectoForm.get('ciudad')?.touched"
              class="invalid-feedback">
              Por favor, selecciona una ciudad.
            </div>
          </div>
        </div>

        <!-- Fecha de inicio -->
        <div class="col-md-4">
          <div class="form-floating">
            <input type="date" class="form-control" id="fechaInicio" placeholder="Fecha de inicio"
              formControlName="fechaInicio"
              [ngClass]="{
                'is-invalid': proyectoForm.get('fechaInicio')?.invalid && proyectoForm.get('fechaInicio')?.touched,
                'is-valid': proyectoForm.get('fechaInicio')?.valid
              }" required />
            <label for="fechaInicio">Fecha de inicio</label>
            <div *ngIf="proyectoForm.get('fechaInicio')?.invalid && proyectoForm.get('fechaInicio')?.touched"
              class="invalid-feedback">
              Por favor, selecciona una fecha de inicio válida.
            </div>
          </div>
        </div>

        <!-- Fecha de fin -->
        <div class="col-md-4">
          <div class="form-floating">
            <input type="date" class="form-control" id="fechaFin" placeholder="Fecha de fin"
              formControlName="fechaFin"
              [ngClass]="{
                'is-invalid': proyectoForm.get('fechaFin')?.invalid && proyectoForm.get('fechaFin')?.touched,
                'is-valid': proyectoForm.get('fechaFin')?.valid
              }" required />
            <label for="fechaFin">Fecha de fin</label>
            <div *ngIf="proyectoForm.get('fechaFin')?.invalid && proyectoForm.get('fechaFin')?.touched"
              class="invalid-feedback">
              Por favor, selecciona una fecha de fin válida.
            </div>
          </div>
        </div>

        <!-- Botón de envío -->
        <div class="text-center">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-save"></i> Guardar Proyecto
          </button>
        </div>

      </form>
    </div>
  </div>
</div>